<nav
    class="bg-gray-100 shadow-md fixed w-full z-20 top-0 start-0 border-b border-gray-200 dark:border-darker dark:bg-darker dark:text-white lg:text-lg xl:text-xl">
    <div class="max-w-7xl flex justify-between lg:justify-around flex-wrap items-center mx-auto p-4">
        <a routerLink="/home" class="flex items-center space-x-3 rtl:space-x-reverse">
            <img src="images/shopping-cart-svg.svg" class="h-8" alt="FreshCart Logo">
            <span class="self-center text-3xl font-semibold whitespace-nowrap">Fresh<span
                    class="text-main">Cart</span></span>
        </a>
        <!-- theme, login/register and profile -->
        <div class="flex min-navBreak:order-2 space-x-3 min-navBreak:space-x-2 rtl:space-x-reverse dark:text-white">
            <button (click)="toggleMode()" class="me-3">
                @if (mode == 'dark') {
                <i #dark class="fa-solid fa-circle-half-stroke fa-lg cursor-pointer"></i>
                <i #light class="fa-circle-half-stroke fa-lg cursor-pointer" style="color: #ffe380;"></i>
                }
                @else {
                <i #dark class="fa-circle-half-stroke fa-lg cursor-pointer"></i>
                <i #light class="fa-solid fa-circle-half-stroke fa-lg cursor-pointer" style="color: #ffe380;"></i>
                }
            </button>
            @if(!isLoggedIn){
            <button routerLink="/login" type="button"
                class="text-gray-600 dark:text-gray-100 bg-transparent border-2 border-main transition-color duration-300 hover:bg-main hover:text-white font-medium rounded-lg text-lg md:text-sm px-3 py-2 text-center cursor-pointer">Login
                In</button>
            <button routerLink="/signup" type="button"
                class="text-gray-600 dark:text-gray-100 bg-transparent border-2 border-main transition-color duration-300 hover:bg-main hover:text-white font-medium rounded-lg text-lg md:md:text-sm px-3 py-2 text-center cursor-pointer">Register</button>
            }
            <button data-collapse-toggle="navbar-sticky" type="button"
                class="inline-flex items-center p-2 w-10 h-10 justify-center text-sm text-gray-500 rounded-lg min-navBreak:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200"
                aria-controls="navbar-sticky" aria-expanded="false">
                <span class="sr-only">Open main menu</span>
                <svg class="w-5 h-5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none"
                    viewBox="0 0 17 14">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M1 1h15M1 7h15M1 13h15" />
                </svg>
            </button>
            @if(isLoggedIn){
            <!-- user profile -->
            <div class="flex items-center md:order-2 space-x-3 md:space-x-0 rtl:space-x-reverse">
                <button type="button"
                    class="flex relative text-sm bg-gray-50 rounded-full md:me-0 focus:ring-4 focus:ring-gray-300 dark:focus:ring-gray-600"
                    id="user-menu-button" aria-expanded="false" data-dropdown-toggle="user-dropdown"
                    data-dropdown-placement="bottom">
                    <span class="sr-only">Open user menu</span>
                    <img class="w-8 h-8 rounded-full cursor-pointer" src="images/profile.svg" alt="user photo">
                    <span class="sr-only">Notifications</span>
                    @if(cartItemNum !== 0){
                    <div
                        class="absolute inline-flex items-center justify-center w-5 h-5 text-[10px] text-white bg-red-500 border-2 border-white rounded-full bottom-5 start-5 dark:border-gray-900">
                        {{cartItemNum}}</div>
                    }
                </button>
                <!-- Dropdown menu -->
                <div class="z-50 my-4 hidden text-base list-none bg-white divide-y divide-gray-100 rounded-lg shadow-sm dark:bg-dark dark:divide-gray-600"
                    id="user-dropdown">
                    <div class="py-3 px-8 flex gap-2">
                        <img class="bg-gray-50 rounded-full" src="images/profile.svg" alt="">
                        <span class="block text-sm text-gray-900 dark:text-white">{{user?.name}}</span>
                    </div>
                    <ul class="py-2" aria-labelledby="user-menu-button">
                        <li>
                            <a routerLink="/cart" routerLinkActive="text-main dark:text-main" type="button"
                                class="block cursor-pointer px-4 py-2 transition-all duration-300 hover:bg-gray-100 hover:text-main dark:hover:bg-[#6a6873] text-sm text-gray-700 dark:text-gray-200 relative bg-transparent focus:outline focus:outline-main">
                                <span class="text-sm">My Cart</span>
                                <span class="icon relative ms-1"><i class="fa-solid fa-cart-shopping fa-xs"></i>
                                    <span class="sr-only">Notifications</span>
                                    @if(cartItemNum === 0){
                                    <div
                                        class="absolute inline-flex items-center justify-center w-5 h-5 text-[10px] text-white bg-gray-500 border-2 border-white rounded-full bottom-2 start-3 dark:border-none">
                                        {{cartItemNum}}</div>
                                    }@else {
                                    <div
                                        class="absolute inline-flex items-center justify-center w-5 h-5 text-[10px] text-white bg-red-500 border-2 border-white rounded-full bottom-2 start-3 dark:border-gray-900">
                                        {{cartItemNum}}</div>
                                    }
                                </span>
                            </a>
                        </li>
                        <li>
                            <a routerLink="/allorders"
                                class="block cursor-pointer px-4 py-2 transition-all duration-300 hover:bg-gray-100 hover:text-main dark:hover:bg-[#6a6873] text-sm text-gray-700 dark:text-gray-200">My
                                Orders <i class="fa-solid fa-clipboard-list fa-xs"></i></a>
                        </li>
                        <li>
                            <a routerLink="/wishlist"
                                class="block cursor-pointer px-4 py-2 transition-all duration-300 hover:bg-gray-100 hover:text-main dark:hover:bg-[#6a6873] text-sm text-gray-700 dark:text-gray-200">My
                                Wishlist <i class="fa-solid fa-heart fa-xs"></i></a>
                        </li>
                        <li>
                            <a (click)="logOut()" type="button"
                                class="block cursor-pointer px-4 py-2 transition-all duration-300 hover:bg-red-500/75 hover:text-white text-sm text-gray-700 dark:text-gray-200">Log
                                Out <i class="fa-solid fa-right-from-bracket fa-xs"></i></a>
                        </li>
                    </ul>
                </div>
            </div>
            }
        </div>

        <!-- nav list -->
        <div class="items-center hidden w-full min-navBreak:flex min-navBreak:w-auto min-navBreak:order-1"
            id="navbar-sticky">
            <ul
                class="flex flex-col items-center p-4 min-navBreak:p-0 mt-4 font-medium rounded-lg min-navBreak:space-x-4 lg:space-x-6 rtl:space-x-reverse min-navBreak:flex-row min-navBreak:mt-0 min-navBreak:border-0">
                <li class="md:mx-0 lg:mx-3 xl:mx-6">
                    <a routerLink="/home" routerLinkActive="text-main dark:text-main"
                        class="flex justify-center relative py-1.5 px-2 text-gray-600 dark:text-gray-100 bg-transparent transition-all duration-300 hover:text-main focus:outline focus:outline-main rounded-sm"
                        aria-current="page">Home <div routerLinkActive="active"
                            class="absolute w-[0%] h-[1px] bg-main transition-all duration-500 bottom-1"></div></a>
                </li>
                <li class="md:mx-0 lg:mx-3 xl:mx-6">
                    <a routerLink="/products" routerLinkActive="text-main dark:text-main"
                        class="flex justify-center relative py-1.5 px-2 text-gray-600 dark:text-gray-100 bg-transparent transition-all duration-300 hover:text-main focus:outline focus:outline-main rounded-sm"
                        aria-current="page">Products <div routerLinkActive="active"
                            class="absolute w-[0%] h-[1px] bg-main transition-all duration-500 bottom-1"></div></a>
                </li>
                <li class="md:mx-0 lg:mx-3 xl:mx-6">
                    <a routerLink="/brands" routerLinkActive="text-main dark:text-main"
                        class="flex justify-center relative py-1.5 px-2 text-gray-600 dark:text-gray-100 bg-transparent transition-all duration-300 hover:text-main focus:outline focus:outline-main rounded-sm"
                        aria-current="page">Brands <div routerLinkActive="active"
                            class="absolute w-[0%] h-[1px] bg-main transition-all duration-500 bottom-1"></div></a>
                </li>
                <li class="md:mx-0 lg:mx-3 xl:mx-6">
                    <a routerLink="/categories" routerLinkActive="text-main dark:text-main"
                        class="flex justify-center relative py-1.5 px-2 text-gray-600 dark:text-gray-100 bg-transparent transition-all duration-300 hover:text-main focus:outline focus:outline-main rounded-sm"
                        aria-current="page">Categories <div routerLinkActive="active"
                            class="absolute w-[0%] h-[1px] bg-main transition-all duration-500 bottom-1"></div></a>
                </li>
                <li class="flex flex-row items-center">
                    <button id="dropdownNavbarLink" data-dropdown-toggle="dropdownNavbar" href="#"
                        class="cursor-pointer block py-1.5 px-2 text-gray-600 dark:text-gray-100 bg-transparent transition-all duration-300 hover:text-main focus:outline focus:outline-main rounded-sm"
                        aria-current="page">Socials <svg class="w-2.5 h-2.5 inline" aria-hidden="true"
                            xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 10 6">
                            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="m1 1 4 4 4-4" />
                        </svg></button>

                    <!-- Socials dropdown menu -->
                    <div id="dropdownNavbar"
                        class="z-10 hidden font-normal bg-white rounded-2xl shadow-sm w-36 dark:bg-dark">
                        <ul class="text-center divide-y divide-gray-100 text-sm text-gray-600 dark:divide-[#3c3944] dark:text-white"
                            aria-labelledby="dropdownLargeButton">
                            <li>
                                <a href="#"
                                    class="block px-4 py-2 transition-all duration-300 hover:bg-gray-100 hover:text-main dark:hover:bg-[#6a6873] first:rounded-t-2xl"><i
                                        class="fa-brands fa-instagram fa-lg"></i></a>
                            </li>
                            <li>
                                <a href="#"
                                    class="block px-4 py-2 transition-all duration-300 hover:bg-gray-100 hover:text-main dark:hover:bg-[#6a6873]"><i
                                        class="fa-brands fa-tiktok fa-lg"></i></a>
                            </li>
                            <li>
                                <a href="#"
                                    class="block px-4 py-2 transition-all duration-300 hover:bg-gray-100 hover:text-main dark:hover:bg-[#6a6873]"><i
                                        class="fa-brands fa-twitter fa-lg"></i></a>
                            </li>
                            <li>
                                <a href="#"
                                    class="block px-4 py-2 transition-all duration-300 hover:bg-gray-100 hover:text-main dark:hover:bg-[#6a6873]"><i
                                        class="fa-brands fa-linkedin fa-lg"></i></a>
                            </li>
                            <li>
                                <a href="#"
                                    class="block px-4 py-2 transition-all duration-300 hover:bg-gray-100 hover:text-main dark:hover:bg-[#6a6873] last:rounded-b-2xl"><i
                                        class="fa-brands fa-youtube fa-lg"></i></a>
                            </li>
                        </ul>
                    </div>
                </li>

            </ul>
        </div>
    </div>
</nav>